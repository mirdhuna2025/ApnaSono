<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Listings</title>

<style>
:root{
  --primary:#25D366;
  --danger:#ef4444;
  --bg:#f4f6f8;
  --card:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --radius:14px;
  --shadow:0 10px 25px rgba(0,0,0,.08);
}

*{box-sizing:border-box}

body{
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background:var(--bg);
  margin:0;
  color:var(--text);
}

.spinner {
  width: 32px; height: 32px;
  border: 3px solid rgba(255,255,255,0.3);
  border-radius: 50%;
  border-top-color: #fff;
  animation: spin 1s linear infinite;
  margin: 20px auto;
}
@keyframes spin { to { transform: rotate(360deg); } }
.empty-state { text-align: center; padding: 40px 20px; color: #666; }
.item-card { display: flex; gap: 12px; padding: 12px; border-bottom: 1px solid #eee; }
.item-img img { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; cursor: pointer; }
.item-info { flex: 1; min-width: 0; }
.item-title { font-weight: 600; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.item-price { color: #059669; font-weight: 700; font-size: 1.1em; }
.item-meta { display: flex; gap: 8px; margin: 8px 0; flex-wrap: wrap; }
.meta-badge { background: #f3f4f6; padding: 4px 8px; border-radius: 12px; font-size: 0.85em; }
.meta-badge.purchased { background: #fee2e2; color: #ef4444; }
.btn-group { display: flex; gap: 8px; margin-top: 10px; }
.btn-whatsapp, .btn-purchase { 
  flex: 1; padding: 8px 12px; border: none; border-radius: 6px; 
  font-weight: 500; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 6px;
}
.btn-whatsapp { background: #25D366; color: white; text-decoration: none; }
.btn-purchase { background: #3b82f6; color: white; }
.btn-delete { background: #ef4444; }
@media (max-width: 640px) {
  .item-card { flex-direction: column; }
  .item-img img { width: 100%; height: 200px; }
}
  
  
  /* ================= FAB ================= */
.fab{
  position:fixed;
  bottom:22px;
  right:22px;
  width:58px;
  height:58px;
  border-radius:50%;
  background:var(--primary);
  color:#fff;
  border:none;
  font-size:28px;
  cursor:pointer;
  box-shadow:0 12px 30px rgba(37,211,102,.4);
  z-index:1000;
}
.fab:hover{transform:scale(1.05)}

/* ================= LIST ================= */
#listingsContainer{
  padding:16px;
  max-width:760px;
  margin:auto;
}

/* ================= CARD ================= */
.item-card{
  display:flex;
  gap:14px;
  background:var(--card);
  border-radius:var(--radius);
  margin-bottom:14px;
  box-shadow:var(--shadow);
  overflow:hidden;
}

.item-img img{
  width:120px;
  height:120px;
  object-fit:cover;
  cursor:pointer;
}

.item-info{
  padding:12px;
  flex:1;
}

.item-title{
  font-size:16px;
  font-weight:600;
  margin-bottom:4px;
}

.item-price{
  color:var(--danger);
  font-weight:700;
  margin-bottom:6px;
}

.item-meta{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}

.meta-badge{
  background:#f1f5f9;
  color:#374151;
  padding:4px 8px;
  border-radius:999px;
  font-size:12px;
}

.btn-group{
  margin-top:10px;
}

.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 14px;
  border-radius:10px;
  border:none;
  cursor:pointer;
  font-weight:600;
  text-decoration:none;
}

.btn-success{
  background:var(--primary);
  color:#fff;
}

.btn-secondary{
  background:#e5e7eb;
}

/* ================= MODAL ================= */
#modalBackdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:999;
}

#modalBackdrop.active{display:flex}

#modalContent{
  background:var(--card);
  width:92%;
  max-width:420px;
  padding:18px;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  animation:pop .2s ease;
}

@keyframes pop{
  from{transform:scale(.95);opacity:0}
  to{transform:scale(1);opacity:1}
}

#modalContent h3{
  margin:0 0 12px;
  font-size:18px;
}

#modalContent input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid #e5e7eb;
  margin-bottom:10px;
}

#modalContent input:focus{
  outline:none;
  border-color:var(--primary);
}

#previewContainer img{
  border-radius:10px;
  box-shadow:var(--shadow);
  max-width:100px;
}

/* ================= EMPTY ================= */
.empty-state{
  text-align:center;
  color:var(--muted);
  padding:40px 0;
}
</style>
</head>

<body>

<!-- FAB -->
<button onclick="openAddForm()" class="fab">+</button>

<!-- Listings -->
<div id="listingsContainer"></div>

<!-- Add Listing Modal -->
<div id="modalBackdrop">
  <div id="modalContent">
    <h3>âž• Add Listing</h3>
    <form id="addListingForm" onsubmit="event.preventDefault(); sendToAdmin();">
      <input type="text" id="title" placeholder="Item title *" required>
      <input type="number" id="price" placeholder="Price *" required>
      <input type="text" id="location" placeholder="Location *" required>
      <input type="text" id="mobile" placeholder="Your mobile (optional)">
      <input type="file" id="imageUpload" accept="image/*">

      <div id="previewContainer" style="display:none;margin-bottom:10px;">
        <img id="imagePreview">
      </div>

      <button type="submit" class="btn btn-success" style="width:100%;margin-bottom:8px;">
        ðŸ“¤ Send to Admin (WhatsApp)
      </button>
      <button type="button" class="btn btn-secondary" style="width:100%;" onclick="closeAddForm()">Cancel</button>
    </form>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<script>
<script src="sell.js"></script>
</script>

</body>
</html>
