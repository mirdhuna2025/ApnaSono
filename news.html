<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Today's Sono Village, Jamui News</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: #f8fafc;
      color: #1e293b;
      padding: 20px;
    }
    .container { max-width: 800px; margin: 0 auto; }
    header { text-align: center; margin: 20px 0; }
    h1 { font-size: 1.8rem; color: #0f172a; }
    .tagline { color: #64748b; margin-top: 8px; }
    #news-container {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.03);
      padding: 20px;
    }
    .article {
      padding: 16px 0;
      border-bottom: 1px solid #e2e8f0;
    }
    .article:last-child { border-bottom: none; }
    .title {
      font-size: 1.15rem;
      color: #0d5ab9;
      text-decoration: none;
      font-weight: 500;
    }
    .title:hover { text-decoration: underline; }
    .snippet {
      color: #475569;
      margin: 8px 0;
      font-size: 0.95rem;
    }
    .meta {
      font-size: 0.85rem;
      color: #64748b;
    }
    .loading { text-align: center; padding: 30px; color: #3b82f6; }
    .error { padding: 20px; background: #fee2e2; color: #b91c1c; border-radius: 6px; }
    footer { text-align: center; margin-top: 30px; font-size: 0.85rem; color: #94a3b8; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üóûÔ∏è Today's News from Sono Village, Jamui (Bihar)</h1>
      <p class="tagline">Sorted by latest date ‚Äî sourced from Google News</p>
    </header>

    <main>
      <div id="news-container">
        <div class="loading">üîç Fetching latest news about <strong>Sono village Jamui, Bihar</strong>...</div>
      </div>
    </main>

    <footer>
      <p>Data from Google News RSS ‚Ä¢ Auto-sorted by date ‚Ä¢ Updated on every load</p>
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const container = document.getElementById('news-container');

      // ‚úÖ Google News RSS URL (search: "Today Sono village Jamui Bihar")
      const rssUrl = 'https://news.google.com/rss/search?q=Today%20Sono%20village%20Jamui%20Bihar&hl=en-IN&gl=IN&ceid=IN:en';

      // rss2json API proxy
      const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;

      fetch(apiUrl)
        .then(response => {
          if (!response.ok) throw new Error(`HTTP ${response.status}`);
          return response.json();
        })
        .then(data => {
          if (data.status !== 'ok' || !data.items || data.items.length === 0) {
            throw new Error('No articles found');
          }

          // ‚úÖ Sort articles by pubDate (latest first)
          const sortedArticles = data.items.sort((a, b) => new Date(b.pubDate) - new Date(a.pubDate));

          container.innerHTML = '';
          const articles = sortedArticles.slice(0, 12); // Top 12 latest news

          articles.forEach(item => {
            const title = item.title.replace(/<[^>]*>/g, '');
            const snippet = (item.description || '').replace(/<[^>]*>/g, '').substring(0, 200) + '‚Ä¶';

            const pubDate = new Date(item.pubDate);
            const dateStr = pubDate.toLocaleString('en-IN', {
              day: '2-digit',
              month: 'short',
              year: 'numeric',
              hour: '2-digit',
              minute: '2-digit'
            });

            const articleEl = document.createElement('div');
            articleEl.className = 'article';
            articleEl.innerHTML = `
              <a href="${item.link}" target="_blank" rel="noopener noreferrer" class="title">${title}</a>
              <p class="snippet">${snippet}</p>
              <p class="meta">üïí ${dateStr} ‚Ä¢ ${item.creator || 'Google News'}</p>
            `;
            container.appendChild(articleEl);
          });
        })
        .catch(err => {
          console.error('Fetch error:', err);
          container.innerHTML = `
            <div class="error">
              ‚ùå Could not load today's Sono news.<br>
              Possible reasons:<br>
              ‚Ä¢ Google News temporary delay<br>
              ‚Ä¢ Ad blocker interference<br>
              ‚Ä¢ Weak network<br><br>
              <small>Error: ${err.message}</small>
            </div>
          `;
        });
    });
  </script>
</body>
</html>
